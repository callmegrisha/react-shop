{"version":3,"sources":["components/Header.jsx","components/Preloader.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Alert.jsx","components/Main.jsx","config.js","components/Footer.jsx","App.js","index.js"],"names":["Header","className","href","id","Preloader","GoodsItem","props","mainId","displayName","displayDescription","price","displayAssets","addToBasket","Function","prototype","src","full_background","alt","type","onClick","regularPrice","GoodsList","goods","length","map","item","Cart","quantity","handleBasketShow","BasketItem","removeFromBasket","incQuantity","decQuantity","BasketList","order","totalPrice","reduce","sum","elCart","Alert","name","closeAlert","useEffect","timerId","setTimeout","clearTimeout","Main","useState","setGoods","loading","setLoading","setOrder","isBasketShow","setBasketShow","alertName","setAlertName","fetch","headers","Authorization","process","then","response","json","data","shop","itemIndex","findIndex","orderItem","newItem","newOrder","index","itemId","filter","elem","newQuantity","Footer","Date","getFullYear","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.74012c91.chunk.js","sourcesContent":["export default function Header() {\r\n  return (\r\n    <nav className=\"indigo lighten-1\">\r\n      <div className=\"container\">\r\n        <div className=\"nav-wrapper\">\r\n          <a href=\"/#\" className=\"brand-logo\">\r\n            React Shop\r\n          </a>\r\n          <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n            <li>\r\n              <a href=\"/#\">\r\n                <i className=\"large material-icons\">shopping_cart</i>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n","export default function Preloader() {\r\n  return (\r\n    <div className=\"preloader-wrapper big active\">\r\n      <div className=\"spinner-layer spinner-blue\">\r\n        <div className=\"circle-clipper left\">\r\n          <div className=\"circle\"></div>\r\n        </div>\r\n        <div className=\"gap-patch\">\r\n          <div className=\"circle\"></div>\r\n        </div>\r\n        <div className=\"circle-clipper right\">\r\n          <div className=\"circle\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export default function GoodsItem(props) {\r\n  const {\r\n    mainId,\r\n    displayName,\r\n    displayDescription,\r\n    price,\r\n    displayAssets,\r\n    addToBasket = Function.prototype,\r\n  } = props;\r\n\r\n  return (\r\n    <div className=\"card large\" id={mainId}>\r\n      <div className=\"card-image\">\r\n        <img src={displayAssets[0].full_background} alt={displayName} />\r\n      </div>\r\n      <div className=\"card-content\">\r\n        <span className=\"card-title\">{displayName}</span>\r\n        <p>\r\n          {!displayDescription\r\n            ? 'No description for this product '\r\n            : displayDescription}\r\n        </p>\r\n      </div>\r\n      <div className=\"card-action\">\r\n        <button\r\n          className=\"btn indigo lighten-1\"\r\n          type=\"button\"\r\n          onClick={() => addToBasket({ mainId, displayName, price })}\r\n        >\r\n          Buy\r\n        </button>\r\n        <span className=\"card-price right\">{price.regularPrice} usd.</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import GoodsItem from './GoodsItem';\r\n\r\nexport default function GoodsList(props) {\r\n  const { goods = [], addToBasket = Function.prototype } = props;\r\n\r\n  if (!goods.length) {\r\n    return <h3>Nothing here</h3>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"goods\">\r\n      {goods.map((item) => (\r\n        <GoodsItem key={item.mainId} {...item} addToBasket={addToBasket} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","export default function Cart(props) {\r\n  const { quantity = 0, handleBasketShow = Function.prototype } = props;\r\n  return (\r\n    <div\r\n      className=\"cart indigo lighten-1 white-text\"\r\n      onClick={handleBasketShow}\r\n    >\r\n      <i className=\"material-icons\">shopping_cart</i>\r\n      {quantity ? <span className=\"cart-quantity\">{quantity}</span> : null}\r\n    </div>\r\n  );\r\n}\r\n","export default function BasketItem(props) {\r\n  const {\r\n    mainId,\r\n    displayName,\r\n    price,\r\n    quantity,\r\n    removeFromBasket = Function.prototype,\r\n    incQuantity = Function.prototype,\r\n    decQuantity = Function.prototype,\r\n  } = props;\r\n  return (\r\n    <>\r\n      <li className=\"collection-item\">\r\n        {displayName} x {quantity}= {price.regularPrice * quantity}\r\n        <button\r\n          type=\"button\"\r\n          className=\"decrement-item-btn btn\"\r\n          onClick={() => decQuantity(mainId)}\r\n        >\r\n          <i className=\"material-icons\">remove</i>\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          className=\"increment-item-btn btn\"\r\n          onClick={() => incQuantity(mainId)}\r\n        >\r\n          <i className=\"material-icons\">add</i>\r\n        </button>\r\n        <span\r\n          className=\"secondary-content\"\r\n          onClick={() => removeFromBasket(mainId)}\r\n        >\r\n          <i className=\"material-icons basket-delete\">close</i>\r\n        </span>\r\n      </li>\r\n    </>\r\n  );\r\n}\r\n","import BasketItem from './BasketItem';\r\n\r\nexport default function BasketList(props) {\r\n  const {\r\n    order = [],\r\n    handleBasketShow = Function.prototype,\r\n    removeFromBasket = Function.prototype,\r\n    incQuantity = Function.prototype,\r\n    decQuantity = Function.prototype,\r\n  } = props;\r\n\r\n  const totalPrice = order.reduce((sum, elCart) => {\r\n    return sum + elCart.price.regularPrice * elCart.quantity;\r\n  }, 0);\r\n\r\n  return (\r\n    <ul className=\"collection basket-list\">\r\n      <li className=\"collection-item active\">Cart</li>\r\n      {order.length ? (\r\n        order.map((item) => (\r\n          <BasketItem\r\n            key={item.mainId}\r\n            {...item}\r\n            removeFromBasket={removeFromBasket}\r\n            incQuantity={incQuantity}\r\n            decQuantity={decQuantity}\r\n          />\r\n        ))\r\n      ) : (\r\n        <li className=\"collection-item\">Empty cart</li>\r\n      )}\r\n      <li className=\"collection-item active\">Общая стоимость: {totalPrice}</li>\r\n      <li className=\"collection-item active\">\r\n        <button type=\"button\" className=\"btn-small\">\r\n          Оформить\r\n        </button>\r\n      </li>\r\n      <i className=\"material-icons basket-close\" onClick={handleBasketShow}>\r\n        close\r\n      </i>\r\n    </ul>\r\n  );\r\n}\r\n","import { useEffect } from 'react';\r\n\r\nexport default function Alert(props) {\r\n  const { name = '', closeAlert = Function.prototype } = props;\r\n\r\n  useEffect(() => {\r\n    const timerId = setTimeout(closeAlert, 3000);\r\n    return () => {\r\n      clearTimeout(timerId);\r\n    };\r\n    //eslint-disable-next-line\r\n  }, [name]);\r\n\r\n  return (\r\n    <div id=\"toast-container\">\r\n      <div className=\"toast\">{name} added to cart!</div>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport { API_KEY, API_URL } from '../config';\r\nimport Preloader from './Preloader';\r\nimport GoodsList from './GoodsList';\r\nimport Cart from './Cart';\r\nimport BasketList from './BasketList';\r\nimport Alert from './Alert';\r\n\r\nexport default function Main() {\r\n  const [goods, setGoods] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [order, setOrder] = useState([]);\r\n  const [isBasketShow, setBasketShow] = useState(false);\r\n  const [alertName, setAlertName] = useState('');\r\n\r\n  const addToBasket = (item) => {\r\n    const itemIndex = order.findIndex(\r\n      (orderItem) => orderItem.mainId === item.mainId\r\n    );\r\n\r\n    if (itemIndex < 0) {\r\n      const newItem = {\r\n        ...item,\r\n        quantity: 1,\r\n      };\r\n      setOrder([...order, newItem]);\r\n    } else {\r\n      const newOrder = order.map((orderItem, index) => {\r\n        if (index === itemIndex) {\r\n          return {\r\n            ...orderItem,\r\n            quantity: orderItem.quantity + 1,\r\n          };\r\n        } else {\r\n          return orderItem;\r\n        }\r\n      });\r\n\r\n      setOrder(newOrder);\r\n    }\r\n    setAlertName(item.displayName);\r\n  };\r\n\r\n  const removeFromBasket = (itemId) => {\r\n    const newOrder = order.filter((elem) => elem.mainId !== itemId);\r\n    setOrder(newOrder);\r\n  };\r\n\r\n  const incQuantity = (itemId) => {\r\n    const newOrder = order.map((elem) => {\r\n      if (elem.mainId === itemId) {\r\n        const newQuantity = elem.quantity + 1;\r\n        return {\r\n          ...elem,\r\n          quantity: newQuantity,\r\n        };\r\n      } else {\r\n        return elem;\r\n      }\r\n    });\r\n    setOrder(newOrder);\r\n  };\r\n\r\n  const decQuantity = (itemId) => {\r\n    const newOrder = order.map((elem) => {\r\n      if (elem.mainId === itemId) {\r\n        const newQuantity = elem.quantity - 1;\r\n        return {\r\n          ...elem,\r\n          quantity: newQuantity >= 1 ? newQuantity : 0,\r\n        };\r\n      } else {\r\n        return elem;\r\n      }\r\n    });\r\n    setOrder(newOrder);\r\n  };\r\n\r\n  const handleBasketShow = () => {\r\n    setBasketShow(!isBasketShow);\r\n  };\r\n\r\n  const closeAlert = () => {\r\n    setAlertName('');\r\n  };\r\n\r\n  useEffect(function getGoods() {\r\n    fetch(API_URL, {\r\n      headers: { Authorization: API_KEY },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setGoods(data.shop);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <main>\r\n      <div className=\"container\">\r\n        <Cart quantity={order.length} handleBasketShow={handleBasketShow} />\r\n        {loading ? (\r\n          <Preloader />\r\n        ) : (\r\n          <GoodsList goods={goods} addToBasket={addToBasket} />\r\n        )}\r\n        {isBasketShow && (\r\n          <BasketList\r\n            order={order}\r\n            handleBasketShow={handleBasketShow}\r\n            removeFromBasket={removeFromBasket}\r\n            incQuantity={incQuantity}\r\n            decQuantity={decQuantity}\r\n          />\r\n        )}\r\n        {alertName && <Alert name={alertName} closeAlert={closeAlert} />}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","const API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\nconst API_URL = 'https://fortniteapi.io/v2/shop?lang=en';\r\n\r\nexport {\r\n  API_KEY,\r\n  API_URL\r\n}","export default function Footer() {\r\n  return (\r\n    <footer className=\"page-footer indigo lighten-1\">\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col l6 s12\">\r\n            <h5 className=\"white-text\">React Shop</h5>\r\n            <p className=\"grey-text text-lighten-4\">\r\n              React Simple Shop for Portfolio.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"footer-copyright\">\r\n        <div className=\"container\">\r\n          © {new Date().getFullYear()} Hryhorii Petrov\r\n          <a className=\"grey-text text-lighten-4 right\" href=\"#!\">\r\n            More Links\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n","import Header from './components/Header';\nimport Main from './components/Main';\nimport Footer from './components/Footer';\n\nexport default function App() {\n  return (\n    <>\n      <Header />\n      <Main />\n      <Footer />\n    </>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}